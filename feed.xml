<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://jaw90.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://jaw90.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-02-24T16:02:28+00:00</updated><id>https://jaw90.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Ten Days in Japan</title><link href="https://jaw90.github.io/blog/2025/ten-days-in-japan/" rel="alternate" type="text/html" title="Ten Days in Japan"/><published>2025-02-24T00:00:00+00:00</published><updated>2025-02-24T00:00:00+00:00</updated><id>https://jaw90.github.io/blog/2025/ten-days-in-japan</id><content type="html" xml:base="https://jaw90.github.io/blog/2025/ten-days-in-japan/"><![CDATA[<h2 id="miyazaki">Miyazaki</h2> <p>Recently, I was very fortunate to have the opportunity to travel to Japan for the first time to attend a very interesting conference, where the topic was “Iron-based Superconductors: Advances towards applications” (<a href="https://smartconf.jp/content/ibs2app/">IBS2app</a>). Held over three days in Miyazaki, it was really an expertly organised and curated conference, with research ranging from materials science to magnet engineering, device fabrication to fundamental physics, all on the central topic of iron-based superconductors. The quality of all the work presented was first-rate and provoked many lively discussions, with many experts on the subject in attendance. As well as the research, we also enjoyed some delicious food, both in the traditional Japenese style as well as the local Miyazaki style (I’m looking at you, Miyazaki beef). All in all, it has to be one of my top-ten conferences I have been to, and it looks like there will be a follow-up workshop in 2027 - definitely one to add to the calendar!</p> <p>At the conference, I was very happy to share our latest research on the curious ferromagnetic superconductor EuFe\(_2\)(As\(_{1-x}\)P\(_x\))\(_2\) (<a href="https://arxiv.org/abs/2412.04098">preprint here</a>). While I admit that it was perhaps a bit of a fringe topic for the wider audience, I was very happy to meet some interested individuals and get some new ideas and perspectives on our findings. I was also very pleased to finally meet some collaborators in person, after having spent a good while only corresponding via email! I also made nany new acquaintances, and the many interesting discussions I had have given me some great ideas for new projects, some of which will hopefully spin out into successful future collobarations.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/250224/conference_group_photo-480.webp 480w,/assets/img/250224/conference_group_photo-800.webp 800w,/assets/img/250224/conference_group_photo-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/250224/conference_group_photo.jpg" class="img-fluid rounded z-depth-1" width="1200" height="auto" title="Conference Group Photo" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h2 id="tokyo">Tokyo</h2> <p>A perk of attending any conference is of course the opportunity to travel to new and far-flung places that you otherwise might not get a chance to see. I have always wanted to visit Japan, so this came as a golden opportunity for me to spend a few days in Tokyo after the conference. As an added bonus, my sister flew from Australia to meet me there.</p> <p>Some of the highlights of my trip were visiting the Imado maneki-neko shrine, hunting for gacha capsule machines (so many different kinds!) and playing Street Fighter II at an arcade in Electric Town (I still got beaten by my older sister - how does she do it?!). Of course, one can only see so much in a few days in Tokyo, so I think the only thing to do is go back! Until next time… じゃ、また !</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/250224/imado_shrine-480.webp 480w,/assets/img/250224/imado_shrine-800.webp 800w,/assets/img/250224/imado_shrine-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/250224/imado_shrine.jpg" class="img-fluid rounded z-depth-1" width="1200" height="auto" title="Imado Shrine" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure>]]></content><author><name></name></author><category term="travel,"/><category term="conference"/><category term="travel,"/><category term="conference,"/><category term="presentation,"/><category term="collaboration,"/><category term="iron-based-superconductors"/><summary type="html"><![CDATA[Attending the IBS2app 2025 conference in Miyazaki, Japan]]></summary></entry><entry><title type="html">2024 In Review and Outlook for 2025</title><link href="https://jaw90.github.io/blog/2024/outlook-for-2025/" rel="alternate" type="text/html" title="2024 In Review and Outlook for 2025"/><published>2024-12-31T00:00:00+00:00</published><updated>2024-12-31T00:00:00+00:00</updated><id>https://jaw90.github.io/blog/2024/outlook-for-2025</id><content type="html" xml:base="https://jaw90.github.io/blog/2024/outlook-for-2025/"><![CDATA[<h2 id="2024-retrospective">2024 Retrospective</h2> <p>I joined the group of Prof. Simon Bending at the University of Bath in July 2023. Since that time, one of the things I have been working on is exploring the unusual coexistence of ferromagnetism and superconductivity in the iron-based superconductor EuFe\(_2\)(As\(_{1-x}\)P\(_x\))\(_2\). With samples kindly provided by Prof. Tsuyoshi Tamegai, The University of Tokyo, I performed systematic measurements of magnetisation and magnetic relaxation, focusing particularly in the region of the ferromagnetic ordering temperature. From these measurements, we found some very intriguing behaviour in the dynamics of the superconducting vortices that seemed to correlate strongly with the onset of the ferromagnetic order.</p> <p>At the start of 2024, we were fortunate to be able to explore this behaviour further by establishing a valuable collaboration with the group of Prof. Martino Poggio. His group specialises in making very sensitive magnetic force microscopy measurements, which is ideal for visualing this unsual behaviour. The measurements revealed yet further interesting physics which led us to the identification of a novel interaction between superconducting vortices and ferromagnetic domains - the <em>vortex polaron</em> - the behaviour of which has been elucidated through theoretical description from the group of Prof. Alexandre Buzin, University of Bordeaux.</p> <p>To me, this project has been very much a textbook example of academic collaboration, with important contributions coming from a multitude of parties, and with the final combined result being elevated above the sum of its parts. Once it felt that we had gathered all of the requisite pieces of the story, the final task was to bring them together for publication. Given the number of contributing parts, this was not a straightforward task and took quite a number of iterations until we were satisfied with our work. While we did not quite get our results published before the end of 2024, the process is well under way and a preprint of the manuscript can be found <a href="https://arxiv.org/abs/2412.04098">here</a> in the meantime.</p> <p>In 2024, we have had two new PhD students join the group. Both have made a good start on their projects and it will be great to see how things pan out over the next year.</p> <p>I was also fortunate to attend the 2024 APS March Meeting in Minneapolis, USA, as well as the CMQM meeting in St. Andrews, Scotland.</p> <h2 id="plans-for-2025">Plans for 2025</h2> <p>I am very much looking forward to attending the <a href="https://smartconf.jp/content/ibs2app/">IBS2app 2025 conference</a> in Miyazaki, Japan, where I will be presenting the research (mentioned above) on vortex dynamics in EuFe\(_2\)(As\(_{1-x}\)P\(_x\))\(_2\). I have never been to Japan but it is always somewhere I have wanted to visit. To say I am excited would be an understatement.</p> <p>We currently have a number of other ongoing projects that look as if they may bear some interesting fruit, though I cannot say more for now. There are also some older results that never quite got the love they deserved at the time, and so I hope to make 2025 a year to finally finish off some outstanding projects!</p>]]></content><author><name></name></author><category term="annual-review,"/><category term="summary,"/><category term="conference,"/><category term="presentation"/><summary type="html"><![CDATA[A recap of 2024, and thoughts for the year ahead.]]></summary></entry><entry><title type="html">Python for Publication Quality Figures - Part 1</title><link href="https://jaw90.github.io/blog/2024/python-for-publication-quality-figures/" rel="alternate" type="text/html" title="Python for Publication Quality Figures - Part 1"/><published>2024-09-03T00:00:00+00:00</published><updated>2024-09-03T00:00:00+00:00</updated><id>https://jaw90.github.io/blog/2024/python-for-publication-quality-figures</id><content type="html" xml:base="https://jaw90.github.io/blog/2024/python-for-publication-quality-figures/"><![CDATA[<h2 id="tldr">TL;DR</h2> <p>It is easy to produce publication-quality scientific figures using <a href="https://www.python.org/">Python</a>, <a href="https://github.com/garrettj403/SciencePlots">Matplotlib</a> and <a href="https://github.com/garrettj403/SciencePlots">SciencePlots</a>, with just a few additional tweaks of <a href="https://matplotlib.org/stable/users/explain/customizing.html">rcParams</a>.</p> <h2 id="overview">Overview</h2> <p>Python (<em>3.x</em>) is a popular and versatile programming language and over the years it has become my go-to tool for a wide variety of science-related problems. In particular, I like to use <a href="https://jupyter.org/">Jupyter</a> notebooks as a way of documenting and iterating on data exploration and analysis, and so plotting data and producing figures is an inherent part of this process. There are numerous plotting packages for Python, e.g. <a href="https://docs.bokeh.org/en/latest/#">Bokeh</a>, <a href="https://plot.ly/python/">Plotly</a> and <a href="https://altair-viz.github.io/getting_started/overview.html">Altair</a>. Each library has its merits and can all produce very attractive, publication-quality figures. I have dabbled with a number of these packages, but recently I have settled on perhaps the slightly more humble Matplotlib as a reliable way to produce very high-quality figures of the type you would find in a peer-reviewed publication or conference presentation.</p> <h3 id="basic-plots">Basic Plots</h3> <p>Most Python-using-scientists will have probably used Matplotlib at one time or another to plot out a curve or some experimental data, and would have been met with something like this:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="sh">"</span><span class="s">default</span><span class="sh">"</span><span class="p">)</span>
 
<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">default_rng</span><span class="p">(</span><span class="mi">314159</span><span class="p">)</span>
 
<span class="n">N</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">ran_nums</span> <span class="o">=</span> <span class="n">rng</span><span class="p">.</span><span class="nf">random</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
 
<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
 
<span class="n">m</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">e</span> <span class="o">=</span> <span class="mi">3</span>
 
<span class="n">beta</span> <span class="o">=</span> <span class="n">m</span><span class="o">*</span><span class="n">alpha</span> <span class="o">+</span> <span class="n">c</span> <span class="o">+</span> <span class="n">e</span><span class="o">*</span><span class="n">ran_nums</span>
 
<span class="n">fit</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="nf">polyfit</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
 
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
 
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="sh">'</span><span class="s">o</span><span class="sh">'</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">)</span>
 
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span>
         <span class="n">np</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="nf">polyval</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">fit</span><span class="p">),</span>
         <span class="sh">'</span><span class="s">-</span><span class="sh">'</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span>
 
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">alpha (units a)</span><span class="sh">'</span><span class="p">)</span>
 
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">beta (units b)</span><span class="sh">'</span><span class="p">)</span>
 
<span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>
 
<span class="n">plt</span><span class="p">.</span><span class="nf">savefig</span><span class="p">(</span><span class="sh">'</span><span class="s">./output/fig_v1.png</span><span class="sh">'</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="sh">'</span><span class="s">tight</span><span class="sh">'</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
 
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/240903/fig_v1-480.webp 480w,/assets/img/240903/fig_v1-800.webp 800w,/assets/img/240903/fig_v1-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/240903/fig_v1.jpg" class="img-fluid rounded z-depth-1" width="600" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>As a stand in for real data, I have generated some random numbers following a relationship between the two quantities \(\alpha\) and \(\beta\) such that \(\beta \propto \alpha\), with \(\alpha\) as our independent variable and \(\beta\) our dependent variable (blue circles). The data \(\beta(\alpha)\) are fitted with a straight line, shown in red.</p> <p>The resulting figure is perfectly useful in conveying the information and would probably be sufficient for my own personal notes. However, I would be hesitant to share such a rudimentary figure with colleagues and certainly wouldn’t consider using it in a publication or presentation.</p> <h3 id="scienceplots">SciencePlots</h3> <p>The simplest and easiest way to improve on the default style of Matplotlib is the Python package <code class="language-plaintext highlighter-rouge">SciencePlots</code> :</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="n">scienceplots</span>

<span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="nf">use</span><span class="p">([</span><span class="sh">'</span><span class="s">science</span><span class="sh">'</span><span class="p">])</span>

<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">default_rng</span><span class="p">(</span><span class="mi">314159</span><span class="p">)</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">ran_nums</span> <span class="o">=</span> <span class="n">rng</span><span class="p">.</span><span class="nf">random</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>

<span class="n">m</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">e</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">beta</span> <span class="o">=</span> <span class="n">m</span><span class="o">*</span><span class="n">alpha</span> <span class="o">+</span> <span class="n">c</span> <span class="o">+</span> <span class="n">e</span><span class="o">*</span><span class="n">ran_nums</span>

<span class="n">fit</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="nf">polyfit</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="sh">'</span><span class="s">o</span><span class="sh">'</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">tab:blue</span><span class="sh">'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Data</span><span class="sh">'</span><span class="p">,</span>
        <span class="n">ms</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">clip_on</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span>
         <span class="n">np</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="nf">polyval</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">fit</span><span class="p">),</span>
         <span class="sh">'</span><span class="s">-</span><span class="sh">'</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">tab:red</span><span class="sh">'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Fit</span><span class="sh">'</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">$\alpha$ (Units A)</span><span class="sh">'</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">$\beta$ (Units B)</span><span class="sh">'</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">set_ylim</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_xlim</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">savefig</span><span class="p">(</span><span class="sh">'</span><span class="s">./output/fig_v2.png</span><span class="sh">'</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="sh">'</span><span class="s">tight</span><span class="sh">'</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/240903/fig_v2-480.webp 480w,/assets/img/240903/fig_v2-800.webp 800w,/assets/img/240903/fig_v2-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/240903/fig_v2.jpg" class="img-fluid rounded z-depth-1" width="600" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>The main usage is to import the package using <code class="language-plaintext highlighter-rouge">import scienceplots</code> and to direct Matplotlib to use the default style with <code class="language-plaintext highlighter-rouge">plt.style.use(["science"])</code> (you can include multiple styles here to combine features - see <a href="https://github.com/garrettj403/SciencePlots/wiki/Gallery">here</a>). With this simple change, the figure already looks a lot more professional.</p> <p>Some other minor changes are to override the default Matplotlib colours with colours from the <a href="https://matplotlib.org/stable/gallery/color/named_colors.html#tableau-palette">Tableau palette</a>. SciencePlots also includes a more aesthetically pleasing colour palette - just remove the colour specification (<code class="language-plaintext highlighter-rouge">c=tab:x</code>) from the <code class="language-plaintext highlighter-rouge">ax.plot</code> lines.</p> <p>Additionally, I set the left and bottom limits of the two axes to be zero, as this helps provide a more intuitive understanding of what kind of trend $\beta(\alpha)$ follows. In doing so, the first data point now overlaps the y-axis line - setting <code class="language-plaintext highlighter-rouge">zorder=10</code> (a high number) and <code class="language-plaintext highlighter-rouge">clip_on=False</code> ensures the point is plotted on top of the line and is not clipped by the frame either. An additional consequence is now the line of the linear fit is plotted below the data points. Personally I think I prefer it this way, but you could remedy this by setting the <code class="language-plaintext highlighter-rouge">zorder</code> of the line to be higher than the data points.</p> <p>I also switched from the <code class="language-plaintext highlighter-rouge">plt.plot</code> syntax to the <code class="language-plaintext highlighter-rouge">ax.plot</code> syntax (using <code class="language-plaintext highlighter-rouge">plt.subplots</code>) - the latter is a lot more powerful and has broader functionality, though it is somewhat more verbose, e.g. <code class="language-plaintext highlighter-rouge">ax.set_xlabel</code> compared to <code class="language-plaintext highlighter-rouge">plt.xlabel</code>. Finally, I used $\LaTeX$-compatible dollar-math and slash-commands, e.g. <code class="language-plaintext highlighter-rouge">$\alpha$</code>, to produce Greek characters in the axes labels (you need to specify a raw string with the prefix <code class="language-plaintext highlighter-rouge">r""</code> for this to work).</p> <p>The combined result is a much more refined and well-considered presentation of the data. The figure is also pleasing to look at, which is no bad thing! The major downside that you might experience is the inclusion of <code class="language-plaintext highlighter-rouge">scienceplots</code> can cause the execution time of the Python script to increasing quite substantially.</p> <h3 id="further-improvements-with-rcparams">Further Improvements with rcParams</h3> <p>Whilst we have already made a substantial jump in quality from the default Matplotlib figures, we can make some further refinements by turning our attention to <code class="language-plaintext highlighter-rouge">matplotlib.rcParams</code>. With this, it is possible to customise a wide variety of the various components that make up a Matplotlib figure. However, the documentation is <a href="https://matplotlib.org/stable/users/explain/customizing.html">quite extensive</a>, which can make figuring out what changes to make quite tricky. As a shortcut, here are some that I have found useful in the following script:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="n">scienceplots</span>

<span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="nf">use</span><span class="p">([</span><span class="sh">'</span><span class="s">science</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">nature</span><span class="sh">'</span><span class="p">])</span>

<span class="n">plot_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">figure.dpi</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">200</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">axes.labelsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">axes.linewidth</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">axes.titlesize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.labelsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.labelsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">legend.title_fontsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">legend.fontsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.major.size</span><span class="sh">"</span><span class="p">:</span> <span class="mf">3.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.major.width</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.minor.size</span><span class="sh">"</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.minor.width</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.major.size</span><span class="sh">"</span><span class="p">:</span> <span class="mf">3.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.major.width</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.minor.size</span><span class="sh">"</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.minor.width</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">plt</span><span class="p">.</span><span class="n">rcParams</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">plot_params</span><span class="p">)</span>

<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">default_rng</span><span class="p">(</span><span class="mi">314159</span><span class="p">)</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">ran_nums</span> <span class="o">=</span> <span class="n">rng</span><span class="p">.</span><span class="nf">random</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>

<span class="n">alpha</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>

<span class="n">m</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">e</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">beta</span> <span class="o">=</span> <span class="n">m</span><span class="o">*</span><span class="n">alpha</span> <span class="o">+</span> <span class="n">c</span> <span class="o">+</span> <span class="n">e</span><span class="o">*</span><span class="n">ran_nums</span>

<span class="n">fit</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="nf">polyfit</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="sh">'</span><span class="s">o</span><span class="sh">'</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">tab:blue</span><span class="sh">'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Data</span><span class="sh">'</span><span class="p">,</span>
        <span class="n">ms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">clip_on</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">mfc</span><span class="o">=</span><span class="sh">'</span><span class="s">none</span><span class="sh">'</span><span class="p">,</span> <span class="n">mew</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span>
         <span class="n">np</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="n">polynomial</span><span class="p">.</span><span class="nf">polyval</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">fit</span><span class="p">),</span>
         <span class="sh">'</span><span class="s">-</span><span class="sh">'</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">tab:red</span><span class="sh">'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Fit</span><span class="sh">'</span><span class="p">,</span>
         <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">$\alpha$ (Units A)</span><span class="sh">'</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">$\beta$ (Units B)</span><span class="sh">'</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="nf">set_ylim</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_xlim</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span><span class="mf">0.1</span><span class="p">))</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">savefig</span><span class="p">(</span><span class="sh">'</span><span class="s">./output/fig_v3.png</span><span class="sh">'</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="sh">'</span><span class="s">tight</span><span class="sh">'</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/240903/fig_v3-480.webp 480w,/assets/img/240903/fig_v3-800.webp 800w,/assets/img/240903/fig_v3-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/240903/fig_v3.jpg" class="img-fluid rounded z-depth-1" width="600" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><code class="language-plaintext highlighter-rouge">plot_params</code> is a dictionary containing the new values for the specified parameters (key:value pairs). These values are updated using <code class="language-plaintext highlighter-rouge">plt.rcParams.update</code> and passing in the dictionary.</p> <p>The main purpose of the changes is to improve the readability of the figure, particularly considering how it might appear on an A4 printed sheet of paper (<em>this is always worth trying to keep in mind</em>). This is done by increasing the font size of the axes labels, tick labels and legend items (and can be extended to any other text you might have). Additionally, the axes themselves are thicker, along with the major and minor tick labels.</p> <p>Furthermore, I have included the <code class="language-plaintext highlighter-rouge">nature</code> theme in addition to the default <code class="language-plaintext highlighter-rouge">science</code> from SciencePlots, which has the major effect of switching to a sans-serif font throughout. When preparing figures for a specific journal, there may be certain specific style guidelines that should be followed.</p> <p>Finally, I increased the size of the markers (<code class="language-plaintext highlighter-rouge">ms</code>) for the data points, giving them a thick edge (marker edge width: <code class="language-plaintext highlighter-rouge">mew</code>) and no centre fill (marker fill colour: <code class="language-plaintext highlighter-rouge">mfc</code>). For the fitted line, I increased the line width (<code class="language-plaintext highlighter-rouge">lw</code>) and also made the line slightly transparent by adjusting the <code class="language-plaintext highlighter-rouge">alpha</code>, with <code class="language-plaintext highlighter-rouge">0</code> being fully transparent. The result is you can see the line clearly behind the markers. Of course, this may or may not be appropriate depending on your objective.</p> <p>The final result is what I would argue to be a very professional and publication-ready figure. Nice!</p> <h3 id="conclusion">Conclusion</h3> <p>We’ve seen that with fairly little effort, it is possible to take a very basic Matplotlib figure and turn it into a high-quality, publication-ready figure. It should be easy to apply these improvements to more sophisticated figures - those with multiple curves, subplots or even subfigures - something I plan to look at in a forthcoming <em>part 2</em>.</p> <p>If you are creating a set of figures and you want to have consistent styling, one option is to simply copy-paste your boilerplate code to the top of each script/notebook. However, this quickly becomes tedious and makes it difficult to make consistent, future changes. A possibility is to instead put all of the boilerplate into a separate script located alongside your other scripts, e.g. <code class="language-plaintext highlighter-rouge">update_mpl.py</code> :</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="n">scienceplots</span>

<span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="nf">use</span><span class="p">([</span><span class="sh">'</span><span class="s">science</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">nature</span><span class="sh">'</span><span class="p">])</span>

<span class="n">plot_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">figure.dpi</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">200</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">axes.labelsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">axes.linewidth</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">axes.titlesize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.labelsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.labelsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">legend.title_fontsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">legend.fontsize</span><span class="sh">"</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.major.size</span><span class="sh">"</span><span class="p">:</span> <span class="mf">3.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.major.width</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.minor.size</span><span class="sh">"</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">xtick.minor.width</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.major.size</span><span class="sh">"</span><span class="p">:</span> <span class="mf">3.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.major.width</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.minor.size</span><span class="sh">"</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ytick.minor.width</span><span class="sh">"</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">plt</span><span class="p">.</span><span class="n">rcParams</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">plot_params</span><span class="p">)</span>
</code></pre></div></div> <p>Then, at the top of your script, <code class="language-plaintext highlighter-rouge">import update_mpl</code> (<em>be careful of relative imports!</em>) along with all your usual packages (<code class="language-plaintext highlighter-rouge">numpy</code>, <code class="language-plaintext highlighter-rouge">matplotlib</code> etc). If you use Jupyter notebooks, you can also use the magic <code class="language-plaintext highlighter-rouge">%run update_mpl.py</code> at the very top of your notebook to run the script (handy for other uses, too). Then, if you make a change to <code class="language-plaintext highlighter-rouge">update_mpl.py</code>, just rerun your scripts to generate the updated output.</p> <h4 id="version-information">Version Information</h4> <ul> <li><code class="language-plaintext highlighter-rouge">python</code> : 3.12.2</li> <li><code class="language-plaintext highlighter-rouge">numpy</code> : 1.26.4</li> <li><code class="language-plaintext highlighter-rouge">matplotlib</code> : 3.8.3</li> <li><code class="language-plaintext highlighter-rouge">scienceplots</code> : 2.1.1</li> </ul>]]></content><author><name></name></author><category term="python,"/><category term="publications"/><category term="python,"/><category term="publications,"/><category term="figures"/><summary type="html"><![CDATA[How to use Python, Matplotlib and SciencePlots to create high-quality scientific figures]]></summary></entry></feed>